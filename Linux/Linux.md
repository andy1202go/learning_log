# Linux

[toc]

## 第四部分 Linux使用者管理

### 第7章　Linux文件与目录管理

#### 7.5　命令与文件的查询

##### 7.5.2　文件名的查找

find的使用：https://www.runoob.com/linux/linux-comm-find.html

目前使用过的是

```shell
find . -name "fileName"
```

- find不是常用的，因为速度慢...
- 通常使用的是whereis或者locate
- 原因是find是直接查找硬盘，而另外两个是查找数据库的
- 这个数据库是Linux系统，会将系统内的所有文件都记录在一个数据库文件中，而当使用whereis或者locate，会以此数据库文件的内容为准

```shell
whereis [-bmsu] 文件或目录名

locate [-ir] keyword
```

其中whereis要求的是文件或目录名，而locate只是关键字；locate要更简单些；

whereis的选项我是不想记住的...

locate的-i表示忽略大小写，-r表示-regex，后面是正则表达式；

**注意** locate有其局限性，也就是依赖数据库文件；而数据库文件默认是每天更新一次。可以通过命令更新数据库

```shell
updatedb
```

- 关于find命令

```shell
find [path] [option] [action]
```

find的特殊之处在于真的很强大，通过示例来理解：

1. 将过去系统上面24小时内有改动的文件列出

```shell
find / -mtime 0
```

这里，path是/，-mtime 0是option的内容

2. 寻找/etc下面的文件，如果文件日期比/etc/passwd新就列出

```shell
find /etc -newer /etc/passwd
```

3. 查找/home下面属于vbird的文件

```shell
find /home -user vbird
```

4. 查找系统中不属于任何人的文件

```shell
find / -nouser
```

5. 找出文件名为passwd的文件

```shell
find / -name passwd
```

6. 找出/var目录下，文件类型为Socket的文件名

```shell
find /var -type s
```

7. 找出特定属性的文件

```shell
find / -perm +7000
```

8. 将7中找到的文件列出

   用到了action

```shell
find / -perm +7000 ls -l {} \;
```

9. 找出系统中大于1MB的文件

```shell
find / -size +1000k
```

### 第9章 vim程式编辑器

从vim的设计思路得到兴趣的，即正交的概念+vim命令的设计思路（动词+介词+名词），以实现文本编辑器的目标：高效！

https://018ae9c4.wiz06.com/wapp/pages/view/share/s/01yKD40CqAYD2aipXS2bJuyl1x2lIH1FVkdY2mgZ8f2Hi-fl

### 16 例行性工作

分为一次性和重复性工作；

目前重点介绍下corn表达式

#### 16.0 corn表达式

Cron 表达式，是应用在 Unix 和类 Unix 操作系统之中，让脚本、任务定时进行周期性重复的执行表达式。

**语法说明**

共 7 位，最后一位可选，可以不写，至少 6 位，从左到右各位置分别是：

| 位置 | 意义 | 取值              | 支持的符号      |
| ---- | ---- | ----------------- | --------------- |
| 1    | 秒   | 0-59              | , - * /         |
| 2    | 分   | 0-59              | , - * /         |
| 3    | 时   | 0-23              | , - * /         |
| 4    | 日   | 1-31              | , - * ? / L W C |
| 5    | 月   | 1-12 或 JAN - DEC | , - * /         |
| 6    | 周   | 1-7 或 MON - SAT  | , - * ? / L C # |
| 7    | 年   | 空或 1970-2099    | , - * /         |

注：Cron 表达式对日期英文缩写、特殊字符大小写不敏感。

**符号说明**

| 符号 | 名称     | 功能                                                         |
| ---- | -------- | ------------------------------------------------------------ |
| *    | 星号     | 表示重复对应位置上的周期，比如在第四位上表示每日             |
| ，   | 逗号     | 代表一个列表值，表示多个指定时间，如周位上`SAT,SUN`表示每周六周日 |
| ？   | 问号     | 无意义，占位符，只能在日、周位上                             |
| -    | 减号     | 表示一个范围，如时位上 `20-22`表示 20、21、22点              |
| /    | 斜杆     | a/b 可以表示以 a 为起点步长为 b 的时间序列，如日位上`10/10`表示10日20日30日 |
| L    | Last     | 月份最后一天或星期六，周位上 `6L` 表示月份的最后一个周五     |
| W    | Weekday  | 后边最近的工作日，`3W` 3日如是周五，则在6日（周一）执行      |
| #    | 井号     | a#b 表示当月第 b 个星期 a，如 `6#1` 当月第一个星期五         |
| C    | Calendar | 关联的“日历”的计算结果                                       |

注：

- 周位上给定值后，在日位上要用 ?
- “L” 和 “W” 可在日位中联合使用，LW 表示这个月最后一周的工作日
- “W” 字符指定的最近工作日是不能跨月
- W 字符串只能指定单一日期，而不能指定日期范围
- 日位建议最大值为 28 ，因为 2 月有时候是 28 天

星期对照：

> *0 或 7=Sun, 1=Mon, 2=Tue, 3=Wed, 4=Thu, 5=Fri, 6=Sat* *1,3,5=Mon,Wed,Fri*

**分析示例**

```
"0 0 12 * * ?" 每天中午12点触发

"0 15 10 ? * *" 每天上午10:15触发

"0 15 10 * * ?" 每天上午10:15触发

"0 15 10 * * ? *" 每天上午10:15触发

"0 15 10 * * ? 2005" 2005年的每天上午10:15触发

"0 * 14 * * ?" 在每天下午2点到下午2:59期间的每1分钟触发

"0 0/5 14 * * ?" 在每天下午2点到下午2:55期间的每5分钟触发

"0 0/5 14,18 * * ?" 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发

"0 0-5 14 * * ?" 在每天下午2点到下午2:05期间的每1分钟触发

"0 10,44 14 ? 3 WED" 每年三月的星期三的下午2:10和2:44触发

"0 15 10 ? * MON-FRI" 周一至周五的上午10:15触发

"0 15 10 15 * ?" 每月15日上午10:15触发

"0 15 10 L * ?" 每月最后一日的上午10:15触发

"0 15 10 ? * 6L" 每月的最后一个星期五上午10:15触发

"0 15 10 ? * 6L 2002-2005" 2002年至2005年的每月的最后一个星期五上午10:15触发

"0 15 10 ? * 6#3" 每月的第三个星期五上午10:15触发
```

https://zhuanlan.zhihu.com/p/400657663

已知的是在linux是corntab命令来控制例行性工作的配置的；

其他各种系统中使用corn的场景，一方面参考上述链接，一方面慢慢遇到了再整理。

## 参考文献

1 



## TODO List

| 时间 | 内容 |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |
|      |      |      |



## 总结

| 时间 | 内容 |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |
|      |      |      |



